<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="UTF-8">
        <link rel="icon" type="image/x-icon" href="../../imgs/wizard-hat-icon.svg">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>LemmaCraft</title>
        <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

        <!-- CookieYes Consent Banner (before GA4) -->
        <!-- Start cookieyes banner --> <script id="cookieyes" type="text/javascript" src="https://cdn-cookieyes.com/client_data/5880e3f55d5b7196c9f07546/script.js"></script> <!-- End cookieyes banner -->

<!-- Google Consent Mode -->
<script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
</script>
<script>
        gtag('consent', 'default', {
                'analytics_storage': 'denied'
        });
</script>


        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-WM0NQY2HW0"></script>
        <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());

                gtag('config', 'G-WM0NQY2HW0');
        </script>

        <style type="text/tailwindcss">
                
                @theme {
                        --color-soft-white: #f5f5f5;
                        --color-teal: #26A69A;
                        --color-light-gray: #B0BEC5;
                        --color-bright-yellow: #FFCA28;
                        --color-dark-gray: #37474F;
                }

        </style>
</head>
<body class="h-screen select-none" onload="init()" >
        <div class="grid grid-cols-8 h-full content-stretch divide-x-2 divide-black">
                <div class="relative h-screen bg-soft-white overflow-y-none flex flex-col pt-6 col-span-2">
                        <h1 class="px-6 text-2xl font-bold mb-2"><img src="../../imgs/wizardHat.svg" class="w-8 inline mr-3 mb-2">LemmaCraft</h1>
                        <input type="text" class="block bg-light-gray rounded-xl border-2 border-dark-gray px-6 py-3 mx-6" 
                                placeholder="Search for lemmas:"
                                oninput="updateAxioms(this.value)"
                                id="search-bar">

                        <div id="axiom-list" class="px-6 h-full py-6 overflow-y-scroll"></div>
                        <div class="text-black sticky bottom-0 px-4 py-2 bg-soft-white border-t-2 border-t-dark-gray outline-t-4 outline-t-white">
                                <div class="flex justify-between gap-3"><strong class="block" id="level-name">The Sage Dies</strong><div>Level 2-1</div></div>
                                <div class="flex jusity-stretch gap-3">
                                        <a class="bg-light-gray block w-full cursor-pointer text-center" href="..\..\levels\chapter-1\level-5-a-dark-day.html">‚Üê</a>
                                        <a class="bg-light-gray block w-full cursor-pointer text-center" href="../../index.html">üè†Ô∏é</a>
                                        <a class="bg-light-gray block w-full cursor-pointer text-center" href="">‚ü≥</a>
                                        <a class="bg-light-gray block w-full cursor-pointer text-center" href="level-2-map-to-the-island.html">‚Üí</a>
                                </div>
                        </div>
                </div>
                <div class="bg-soft-white col-span-3 p-4 overflow-y-scroll flex flex-col justify-between"  
                        id="tip-card">
                        <div>
                        <div class="sticky top-0 flex justify-end">
                                <img src="../../imgs/x.png" alt="" class="w-6 cursor-pointer" onclick="hideTip()">
                        </div>
                                
                                <h3 class="text-lg font-semibold text-center">The Sage Dies</h3>
                                <p class="mb-4" id="tip-body">A cloud of mist steams out of the ground, making a soft fizzle, and as it dissipates a heavy leather-encased book with thin, golden pages appears in its place. The book is titled <em>Principia Mathematica</em>, and the first page in the book is titled ‚Äúzero_add,‚Äù followed by instructions to prove the previous lemma.<br/><br/>‚ÄúComplete the book,‚Äù the sage whispers frailly, softly gripping your hand. ‚ÄúComplete the book, and reclaim the artifact. You must not fail; the fate of the Earth‚Ä¶ the fate of the stars‚Ä¶ and the fate of the cosmos‚Ä¶ all of it lies at your feet. And Simon‚Ä¶ you are‚Ä¶ destined‚Ä¶‚Äù His breath stops. He lets go of your hand. The Second Sage has died.<br/><br/>‚ÄúChosen for what? Chosen for what? Don‚Äôt leave me!‚Äù you cry out. A lone tear falls onto his hand. You‚Äôll never admit to it, but tonight you will shed many tears. But not now. Now you must follow the goblins.<br/><br/>You begin to run. Vengeance floods through your blood, and your feet fly over the wall, through the forest, and to the river. When you arrive at the river, you find the bridge freshly destroyed and footprints on the other side. You conclude that the goblins are at fault, grit your teeth, and look for something to bridge across with. You walk over to take a look at a log lying nearby, but as you set your new spell book down to gauge its weight, you notice a crimson red bookmark marking one of its pages. That bookmark was not there before, so you open up to the page it marked. On the bookmark, a message reads, ‚ÄúThis is a magic bookmark. Heed its instructions.‚Äù The bookmark was signed <em>The Second Sage</em>. <br/><br/>The page has a beautifully written script with a heading that reads ‚Äúadd_assoc‚Äù. Underneath it is a lemma, much like ‚Äúzero_add‚Äù, which reads ‚Äú(a b c : nat) : a + ( b + c ) = a + b + c‚Äù. There is no proof of the lemma, and you infer that you must prove this lemma and cast its spell.</p>
                                <br />
                                <hr id="separator" />
                                <br />
                                <h3 id="lemmaName" class="text-lg font-semibold text-center font-mono">add_assoc</h3>
                                <p id="help" class="mb-4" id="tip-body">This lemma is the associative property of addition. To get started, perform induction on one of the variables. Which variable do you think will be easiest to induct on? Remember, your current axioms allow you to operate on the rightmost variable most easily. For instance, a + succ b is manipulatable while succ a + b is not, at least for now. <br/><br/>Also, notice that your previous lemma is available in your toolbox along with your axioms (‚Äúzero_add‚Äù).</p>
                        </div>
                        <button class="bottom-6 w-full mx-6 mx-auto block bg-teal text-white px-6 py-2 rounded cursor-pointer" onclick="hideTip()">Close</button>
                </div>
                <div class="bg-light-gray col-span-3 relative overflow-x-scroll" id="whiteboard">
                        <div class="flex w-[90%] absolute left-[50%] -translate-x-[50%] top-4 justify-center">
                                <div class="bg-soft-white text-xl rounded-xl px-6 py-2 border-6 border-dark-gray cursor-pointer " id="goal-card"><span id="goal-text">1+1=2</span></div>
                                <button class="bg-soft-white text-dark-gray px-4 rounded-xl ml-4 border-6 border-dark-gray cursor-pointer font-mono font-bold text-xl" id="induction-button">i</button>
                        </div>

                        <div class="absolute right-3 bottom-3 bg-dark-gray text-soft-white font-bold px-3 py-2 rounded-xl cursor-pointer" onclick="cycleContext()">Goal <span id="windowIndex">1</span> / <span id="windowCount">1</span></div>

                        <div class="bg-soft-white rounded-lg border-4 border-dark-gray absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 px-4 w-fit py-6 z-100 hidden" id="level-complete">
                                <h2 class="text-xl font-bold mb-4 text-center">Level Complete!</h2>

                                <div class="flex gap-4">
                                        <a class="bg-light-gray block w-full cursor-pointer text-center py-4 w-fit min-w-40" id="prev-link" href="..\..\levels\chapter-1\level-5-a-dark-day.html">Previous Level ( [ )</a>
                                        <a class="bg-light-gray block w-full cursor-pointer text-center py-4 w-fit min-w-40" id="next-link" href="level-2-map-to-the-island.html">Next Level ( ] )</a>
                                </div>
                        </div>

                        <button class="absolute left-0 bottom-0 p-2 pr-4 max-w-[40%] max-h-[60%] z-10 cursor-pointer bg-dark-gray text-white text-sm rounded-tr-xl block"
                                id = "help-toggle"
                                onclick="toggleTip()">
                                Hide Help
                        </button>
                </div>
        </div>

        <script>
                const axioms = [{"name":"succ","raw":"(n : nat) : succ n : nat","category":0},{"name":"zero","raw":"0 : nat","category":0},{"name":"add","raw":"(n1 n2 : nat) : n1 + n2 : nat","category":1},{"name":"add_zero","raw":"(n1 : nat) : n1 + 0 = n1","category":1},{"name":"add_succ","raw":"(n1 n2 : nat) : (n1 + (succ(n2))) = (succ (n1 + n2))","category":1},{"name":"one","raw":"1 : nat","category":0},{"name":"one_eq_succ_zero","raw":"(1) = (succ 0)","category":0},{"name":"two","raw":"2 : nat","category":0},{"name":"two_eq_succ_zero","raw":"(2) = (succ 1)","category":0},{"name":"zero_add","raw":"(n1 : nat) : (0 + n1) = (n1)","category":1}];

                let goalRaw = "(a b c : nat) : (a + (b + c)) = ((a + b) + c)";

                let AxiomCategory = {"numbers":0,"addition":1,"multiplication":2,"exponents":3};

                let currentLevelId = "2-1";

                let helpStr = `This lemma is the associative property of addition. To get started, perform induction on one of the variables. Which variable do you think will be easiest to induct on? Remember, your current axioms allow you to operate on the rightmost variable most easily. For instance, a + succ b is manipulatable while succ a + b is not, at least for now. <br/><br/>Also, notice that your previous lemma is available in your toolbox along with your axioms (‚Äúzero_add‚Äù).`;

                if (helpStr.length <= 2) {
                        document.getElementById('separator').style.display = 'none'
                        document.getElementById('help').style.display = 'none'
                        document.getElementById('lemmaName').style.display = 'none'
                }
        </script>

        <script src="../../js/level.js"></script>
        <script src="../../js/Statement.js"></script>
        <script src="../../js/MObject.js"></script>
        <script src="../../js/mathdata.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
</body>
</html>