<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>LemmaCraft</title>
        <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

        <!-- CookieYes Consent Banner (before GA4) -->
        <!-- Start cookieyes banner --> <script id="cookieyes" type="text/javascript" src="https://cdn-cookieyes.com/client_data/5880e3f55d5b7196c9f07546/script.js"></script> <!-- End cookieyes banner -->

<!-- Google Consent Mode -->
<script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
</script>
<script>
        gtag('consent', 'default', {
                'analytics_storage': 'denied'
        });
</script>


        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-WM0NQY2HW0"></script>
        <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());

                gtag('config', 'G-WM0NQY2HW0');
        </script>

        <style type="text/tailwindcss">
                
                @theme {
                        --color-soft-white: #f5f5f5;
                        --color-teal: #26A69A;
                        --color-light-gray: #B0BEC5;
                        --color-bright-yellow: #FFCA28;
                        --color-dark-gray: #37474F;
                }

        </style>
</head>
<body class="h-screen select-none" onload="init()" >
        <div class="grid grid-cols-8 h-full content-stretch divide-x-2 divide-black">
                <div class="relative h-screen bg-soft-white overflow-y-none flex flex-col pt-6 col-span-2">
                        <h1 class="px-6 text-2xl font-bold mb-2">LemmaCraft</h1>
                        <input type="text" class="block bg-light-gray rounded-xl border-2 border-dark-gray px-6 py-3 mx-6" 
                                placeholder="Search for lemmas:"
                                oninput="updateAxioms(this.value)"
                                id="search-bar">

                        <div id="axiom-list" class="px-6 h-full py-6 overflow-y-scroll"></div>
                        <div class="text-black sticky bottom-0 px-4 py-2 bg-soft-white border-t-2 border-t-dark-gray outline-t-4 outline-t-white">
                                <div class="flex justify-between gap-3"><strong class="block" id="level-name">The Wind Obeys</strong><div>Level 2-4</div></div>
                                <div class="flex jusity-stretch gap-3">
                                        <a class="bg-light-gray block w-full cursor-pointer text-center" href="level-3-gales-awakening.html">‚Üê</a>
                                        <a class="bg-light-gray block w-full cursor-pointer text-center" href="../../index.html">üè†Ô∏é</a>
                                        <a class="bg-light-gray block w-full cursor-pointer text-center" href="">‚ü≥</a>
                                        <a class="bg-light-gray block w-full cursor-pointer text-center" href="..\..\levels\chapter-3\level-1-a-sealed-door.html">‚Üí</a>
                                </div>
                        </div>
                </div>
                <div class="bg-soft-white col-span-3 p-4 overflow-y-scroll flex flex-col justify-between"  
                        id="tip-card">
                        <div>
                        <div class="sticky top-0 flex justify-end">
                                <img src="/imgs/x.png" alt="" class="w-6 cursor-pointer" onclick="hideTip()">
                        </div>
                                
                                <h3 class="text-lg font-semibold text-center">The Wind Obeys</h3>
                                <p class="mb-4" id="tip-body">A song bird flies overhead, alone, whistling a lovely tune as it travels east. Suddenly a small flock of seagulls follow it, and before you know it, hundreds of birds, all flying east, fill the sky. A small breeze comes from the west and you think you hear a song playing in the wind. The wind picks up, and Gale, surprised at your ability to actually command the wind, hangs his mouth open in wonder. ‚ÄúThat settles it,‚Äù he says. ‚ÄúWe leave tonight!‚Äù<br/><br/>Gale commands the crewmates to open the sail, and you begin your voyage. The journey is not long, and you expect to only be on the water for one night and one day. For the night, the sky remains clear, and the full moon shines upon your deck.<br/><br/>As the sun rises the following morning, you can see the island growing in the distance. The island is circular and has a diameter of about 2 miles. There is a large distinguishing mountain in the center of it with smaller hills shielding it. As you get closer, Gale points to one of the hills. ‚ÄúThat‚Äôs where my family once lived. We didn‚Äôt even know about the goblins, but one night, while I was away tending the sheep, I heard bells ringing and immediately ran home. Three lifeless bodies lay on the floor.‚Äù You think back to the goblin raid of your own school village. Gale continues, ‚ÄúWe‚Äôll sail to land near my old home. But Simon, if you have any more magic in you, cast a cloaking spell upon this ship so that we may anchor unnoticed.‚Äù<br/><br/>You open your spell book and find the bookmark.</p>
                                <br />
                                <hr id="separator" />
                                <br />
                                <h3 id="lemmaName" class="text-lg font-semibold text-center font-mono">add_one</h3>
                                <p id="help" class="mb-4" id="tip-body">This lemma creates a shorthand for the addition of one. You do not need to use induction on this level. Begin by applying ‚Äúone_eq_succ_zero‚Äù and simplifying from there. In general, whenever you have a non-zero number in the goal, it is best to start by applying the definition of that number and simplifying from there.<br/><br/>‚Äî<br/><br/>Now that you‚Äôve built up a stack of lemmas, it may be tedious to search through them and keyboard shortcuts become very helpful:<br/><br/>To quickly navigate to the search bar, type ‚Äú / ‚Äù. Then, search for the lemma you want to introduce. It‚Äôs a good idea to try to learn the naming conventions of these lemmas, as this will make solving them much faster.<br/><br/>When the lemma you want to introduce is at the top of the search, press enter to move it onto the workbench. <br/><br/>If you don‚Äôt want to bring it onto the workbench but immediately want to do a rewrite on the goal, press ‚Äúctrl + enter‚Äù and the goal will be rewritten. <br/><br/>Once both sides of the equation are the same, press ‚Äúctrl + j‚Äù to reflect (same as double clicking on the goal). <br/><br/>To move between levels, use the square brackets to move to the previous ( ‚Äú[‚Äù ) and next ( ‚Äú]‚Äù ) levels.<br/><br/>Try solving this level without using your mouse at all. Getting comfortable with keyboard shortcuts will be more and more helpful as the number of lemmas in your book increases.</p>
                        </div>
                        <button class="bottom-6 w-full mx-6 mx-auto block bg-teal text-white px-6 py-2 rounded cursor-pointer" onclick="hideTip()">Close</button>
                </div>
                <div class="bg-light-gray col-span-3 relative overflow-x-scroll" id="whiteboard">
                        <div class="flex w-[90%] absolute left-[50%] -translate-x-[50%] top-4 justify-center">
                                <div class="bg-soft-white text-xl rounded-xl px-6 py-2 border-6 border-dark-gray cursor-pointer " id="goal-card"><span id="goal-text">1+1=2</span></div>
                                <button class="bg-soft-white text-dark-gray px-4 rounded-xl ml-4 border-6 border-dark-gray cursor-pointer font-mono font-bold text-xl" id="induction-button">i</button>
                        </div>

                        <div class="absolute right-3 bottom-3 bg-dark-gray text-soft-white font-bold px-3 py-2 rounded-xl cursor-pointer" onclick="cycleContext()">Goal <span id="windowIndex">1</span> / <span id="windowCount">1</span></div>

                        <div class="bg-soft-white rounded-lg border-4 border-dark-gray absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 px-4 w-fit py-6 z-100 hidden" id="level-complete">
                                <h2 class="text-xl font-bold mb-4 text-center">Level Complete!</h2>

                                <div class="flex gap-4">
                                        <a class="bg-light-gray block w-full cursor-pointer text-center py-4 w-fit min-w-40" id="prev-link" href="level-3-gales-awakening.html">Previous Level ( [ )</a>
                                        <a class="bg-light-gray block w-full cursor-pointer text-center py-4 w-fit min-w-40" id="next-link" href="..\..\levels\chapter-3\level-1-a-sealed-door.html">Next Level ( ] )</a>
                                </div>
                        </div>

                        <button class="absolute left-0 bottom-0 p-2 pr-4 max-w-[40%] max-h-[60%] z-10 cursor-pointer bg-dark-gray text-white text-sm rounded-tr-xl block"
                                id = "help-toggle"
                                onclick="toggleTip()">
                                Hide Help
                        </button>
                </div>
        </div>

        <script>
                const axioms = [{"name":"succ","raw":"(n : nat) : succ n : nat","category":0},{"name":"zero","raw":"0 : nat","category":0},{"name":"add","raw":"(n1 n2 : nat) : n1 + n2 : nat","category":1},{"name":"add_zero","raw":"(n1 : nat) : n1 + 0 = n1","category":1},{"name":"add_succ","raw":"(n1 n2 : nat) : (n1 + (succ(n2))) = (succ (n1 + n2))","category":1},{"name":"one","raw":"1 : nat","category":0},{"name":"one_eq_succ_zero","raw":"(1) = (succ 0)","category":0},{"name":"two","raw":"2 : nat","category":0},{"name":"two_eq_succ_zero","raw":"(2) = (succ 1)","category":0},{"name":"zero_add","raw":"(n1 : nat) : (0 + n1) = (n1)","category":1},{"name":"add_assoc","raw":"(n1 n2 n3 : nat) : (n1 + (n2 + n3)) = ((n1 + n2) + n3)","category":1},{"name":"succ_add","raw":"(n1 n2 : nat) : ((succ n1) + n2) = (succ (n1 + n2))","category":1},{"name":"add_comm","raw":"(n1 n2 : nat) : (n1 + n2) = (n2 + n1)","category":1}];

                let goalRaw = "(n : nat) : (n + 1) = (succ n)";

                let AxiomCategory = {"numbers":0,"addition":1,"multiplication":2,"exponents":3};

                let currentLevelId = "2-4";

                let helpStr = "This lemma creates a shorthand for the addition of one. You do not need to use induction on this level. Begin by applying ‚Äúone_eq_succ_zero‚Äù and simplifying from there. In general, whenever you have a non-zero number in the goal, it is best to start by applying the definition of that number and simplifying from there.<br/><br/>‚Äî<br/><br/>Now that you‚Äôve built up a stack of lemmas, it may be tedious to search through them and keyboard shortcuts become very helpful:<br/><br/>To quickly navigate to the search bar, type ‚Äú / ‚Äù. Then, search for the lemma you want to introduce. It‚Äôs a good idea to try to learn the naming conventions of these lemmas, as this will make solving them much faster.<br/><br/>When the lemma you want to introduce is at the top of the search, press enter to move it onto the workbench. <br/><br/>If you don‚Äôt want to bring it onto the workbench but immediately want to do a rewrite on the goal, press ‚Äúctrl + enter‚Äù and the goal will be rewritten. <br/><br/>Once both sides of the equation are the same, press ‚Äúctrl + j‚Äù to reflect (same as double clicking on the goal). <br/><br/>To move between levels, use the square brackets to move to the previous ( ‚Äú[‚Äù ) and next ( ‚Äú]‚Äù ) levels.<br/><br/>Try solving this level without using your mouse at all. Getting comfortable with keyboard shortcuts will be more and more helpful as the number of lemmas in your book increases.";

                if (helpStr.length <= 2) {
                        document.getElementById('separator').style.display = 'none'
                        document.getElementById('help').style.display = 'none'
                        document.getElementById('lemmaName').style.display = 'none'
                }
        </script>

        <script src="../../js/level.js"></script>
        <script src="../../js/Statement.js"></script>
        <script src="../../js/MObject.js"></script>
        <script src="../../js/mathdata.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
</body>
</html>