<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>LemmaCraft</title>
        <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

        <!-- CookieYes Consent Banner (before GA4) -->
        <!-- Start cookieyes banner --> <script id="cookieyes" type="text/javascript" src="https://cdn-cookieyes.com/client_data/5880e3f55d5b7196c9f07546/script.js"></script> <!-- End cookieyes banner -->

<!-- Google Consent Mode -->
<script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
</script>
<script>
        gtag('consent', 'default', {
                'analytics_storage': 'denied'
        });
</script>


        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-WM0NQY2HW0"></script>
        <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());

                gtag('config', 'G-WM0NQY2HW0');
        </script>
</head>
<body class="h-screen select-none" onload="init()"" >
        <div class="grid grid-cols-8 h-full content-stretch divide-x-2 divide-black">
                <div class="relative h-screen overflow-y-none flex flex-col pt-6 col-span-2">
                        <input type="text" class="block bg-gray-100 rounded-xl border-2 border-gray-300 px-6 py-3 mx-6" 
                                placeholder="Search for lemmas:"
                                oninput="updateAxioms(this.value)"
                                id="search-bar">

                        <div id="axiom-list" class="px-6 h-full py-6 overflow-y-scroll"></div>
                        <div class="text-black sticky bottom-0 px-4 py-2 bg-white border-t-2 border-t-black outline-t-4 outline-t-white">
                                <div class="flex justify-between gap-3"><strong class="block" id="level-name">The Double Click</strong><div>Level 1-1</div></div>
                                <div class="flex jusity-stretch gap-3">
                                        <a class="bg-gray-300 block w-full cursor-pointer text-center" href="#">‚Üê</a>
                                        <a class="bg-gray-300 block w-full cursor-pointer text-center" href="../../index.html">üè†Ô∏é</a>
                                        <a class="bg-gray-300 block w-full cursor-pointer text-center" href="">‚ü≥</a>
                                        <a class="bg-gray-300 block w-full cursor-pointer text-center" href="level-2-drag-n-drop.html">‚Üí</a>
                                </div>
                        </div>
                </div>
                <div class="bg-white col-span-3 p-4 overflow-y-scroll flex flex-col justify-between"  
                        id="tip-card">
                        <div>
                        <div class="sticky top-0 flex justify-end">
                                <img src="/imgs/x.png" alt="" class="w-6 cursor-pointer" onclick="hideTip()">
                        </div>
                                <p class="text-xl font-bold mb-4">The Double Click</span></p>
                                <p class="mb-4" id="tip-body">Welcome to LemmaCraft! Here we'll build a math system from scratch. 
                                <br/>
                                <br/>
                                You may notice that the two halves of the equation at the top (this is our goal, what we're trying to prove) are the same. Whenever this is the case, simply double-click on the goal to prove it.
                                <br/>
                                <br/>
                                Most early-game goals will be solved by a double-click, and your challenge is to manipulate the equation so that both sides are *exactly* the same. For example, 1 + 2 = 2 + 1 would not work, but 1 + 2 = 1 + 2 would.</p>
                        </div>
                        <button class="bottom-6 w-full mx-6 mx-auto block bg-gray-700 text-white px-6 py-2 rounded cursor-pointer" onclick="hideTip()">Close</button>
                </div>
                <div class="bg-red-300 col-span-3 relative overflow-x-scroll" id="whiteboard">
                        <div class="flex w-[90%] absolute left-[50%] -translate-x-[50%] top-4 justify-center">
                                <div class="bg-white text-xl rounded-xl px-6 py-2 border-6 border-blue-900 cursor-pointer " id="goal-card"><span id="goal-text">1+1=2</span></div>
                                <button class="bg-red-200 text-red-900 px-4 rounded-xl ml-4 border-6 border-blue-900 cursor-pointer font-mono font-bold text-xl" id="induction-button">i</button>
                        </div>

                        <div class="absolute right-3 top-3 bg-red-800 text-red-100 px-3 py-2 rounded-xl cursor-pointer" onclick="cycleContext()">Goal <span id="windowIndex">1</span> / <span id="windowCount">1</span></div>

                        <div class="bg-white rounded-lg border-4 border-blue-900 absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 px-4 w-fit py-6 z-100 hidden" id="level-complete">
                                <h2 class="text-xl font-bold mb-4 text-center">Level Complete!</h2>

                                <div class="flex gap-4">
                                        <a class="bg-gray-300 block w-full cursor-pointer text-center py-4 w-fit min-w-40" id="prev-link" href="#">Previous Level ( [ )</a>
                                        <a class="bg-gray-300 block w-full cursor-pointer text-center py-4 w-fit min-w-40" id="next-link" href="level-2-drag-n-drop.html">Next Level ( ] )</a>
                                </div>
                        </div>

                        <button class="absolute left-0 bottom-0 p-2 pr-4 max-w-[40%] max-h-[60%] z-10 cursor-pointer bg-gray-700 text-white text-sm rounded-tr-xl block"
                                id = "help-toggle"
                                onclick="toggleTip()">
                                hide help
                        </button>
                </div>
        </div>

        <script>
                const axioms = []

                let goalRaw = "(x y z : nat) : ((x * y) + z) = ((x * y) + z)"

                let AxiomCategory = {"numbers":0,"addition":1,"multiplication":2,"exponents":3}

                let currentLevelId = "1-1"
        </script>

        <script src="../../js/level.js"></script>
        <script src="../../js/Statement.js"></script>
        <script src="../../js/MObject.js"></script>
        <script src="../../js/mathdata.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
</body>
</html>