<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>LemmaCraft</title>
        <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

        <!-- CookieYes Consent Banner (before GA4) -->
        <!-- Start cookieyes banner --> <script id="cookieyes" type="text/javascript" src="https://cdn-cookieyes.com/client_data/5880e3f55d5b7196c9f07546/script.js"></script> <!-- End cookieyes banner -->

<!-- Google Consent Mode -->
<script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
</script>
<script>
        gtag('consent', 'default', {
                'analytics_storage': 'denied'
        });
</script>


        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-WM0NQY2HW0"></script>
        <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());

                gtag('config', 'G-WM0NQY2HW0');
        </script>

        <style type="text/tailwindcss">
                
                @theme {
                        --color-soft-white: #f5f5f5;
                        --color-teal: #26A69A;
                        --color-light-gray: #B0BEC5;
                        --color-bright-yellow: #FFCA28;
                        --color-dark-gray: #37474F;
                }

        </style>
</head>
<body class="h-screen select-none" onload="init()" >
        <div class="grid grid-cols-8 h-full content-stretch divide-x-2 divide-black">
                <div class="relative h-screen bg-soft-white overflow-y-none flex flex-col pt-6 col-span-2">
                        <h1 class="px-6 text-2xl font-bold mb-2">LemmaCraft</h1>
                        <input type="text" class="block bg-light-gray rounded-xl border-2 border-dark-gray px-6 py-3 mx-6" 
                                placeholder="Search for lemmas:"
                                oninput="updateAxioms(this.value)"
                                id="search-bar">

                        <div id="axiom-list" class="px-6 h-full py-6 overflow-y-scroll"></div>
                        <div class="text-black sticky bottom-0 px-4 py-2 bg-soft-white border-t-2 border-t-dark-gray outline-t-4 outline-t-white">
                                <div class="flex justify-between gap-3"><strong class="block" id="level-name">Certain Doom</strong><div>Level 4-7</div></div>
                                <div class="flex jusity-stretch gap-3">
                                        <a class="bg-light-gray block w-full cursor-pointer text-center" href="level-6-retreat.html">‚Üê</a>
                                        <a class="bg-light-gray block w-full cursor-pointer text-center" href="../../index.html">üè†Ô∏é</a>
                                        <a class="bg-light-gray block w-full cursor-pointer text-center" href="">‚ü≥</a>
                                        <a class="bg-light-gray block w-full cursor-pointer text-center" href="level-8-add-squared.html">‚Üí</a>
                                </div>
                        </div>
                </div>
                <div class="bg-soft-white col-span-3 p-4 overflow-y-scroll flex flex-col justify-between"  
                        id="tip-card">
                        <div>
                        <div class="sticky top-0 flex justify-end">
                                <img src="/imgs/x.png" alt="" class="w-6 cursor-pointer" onclick="hideTip()">
                        </div>
                                <p class="text-xl font-bold mb-4">Certain Doom</span></p>
                                <p class="mb-4" id="tip-body"><br/>The door of the library, which was made of wood, hardens into stone and melts into its surroundings, creating an unbreakable seal on the library. You turn around and look at your company. Only around ten wizards and ten apprentices remain, along with about thirty men. <br/><br/>‚ÄúWhat now?‚Äù One of the apprentices asks. ‚ÄúDo we retreat into the caves to live out the rest of our lives? As far as I can tell there is no way out of the cave.‚Äù<br/><br/>You suggest opening a portal to escape. Some of the men agree with you, but the wizards think that to be cowardly. ‚ÄúFor then we‚Äôd only delay defeat. If we cannot win here I doubt we stand a chance anywhere else. Then the goblin king would have nothing standing in its way to rule over all the free world.‚Äù<br/><br/>Another wizard speaks. ‚ÄúIt is only a matter of time before the goblin king himself marches up to our door and breaks the sealing spell. We must make a choice. Retreat and spare our lives, but leave the world under the rule of the goblin king? Or fight to our certain doom, but with one last hope of sparing the world?‚Äù<br/><br/>Many voices begin to argue all at once. Some say retreat into the caves as you stand a better chance fighting there anyways. Others say take the portal and leave. One voice rises above all the others: ‚ÄúHoy! Ride out and fight! Fight! Folly it is to think we can defeat the goblin king from a cave!‚Äù You look over, and to your surprise, that voice is Magi Gramblet·Ωπn. After further deliberation, a consensus is reached: everyone will ride out on the horses except for you. You will stand back, just outside the cave, awaiting the goblin king, and cast a spell with him off guard to seek his defeat. <br/><br/>Everyone climbs onto their horses, a fiery determination set in their eyes. Magi Somerio, the tallest and wisest of the wizards, valiantly shouts, ‚ÄúLet us meet this moment not cowering with fear but proud to be the last defenders of the free world. Courage! Courage! For as soon as we give in to cowardice the enemy has already won. Let us ride now! Ride for victory! Ride for freedom! Ride!‚Äù<br/><br/>The sealing spell breaks, and the stone door on the library explodes into small pieces. Everyone charges forward, led by Magi Somerio, shouting ‚ÄúRide!‚Äù in unison. All of the riders exit the cave resolutely determined to slay goblins and thinking little of their own lives. As they charged, the goblins fled, cowering with fear. The sun, which was covered by the dark blanket of storm clouds, penetrates through the clouds and casts a blinding ray of light behind the riders, light so bright that many of the goblins fell over as they were running away. <br/><br/>On the other side of the village, the goblin king enters through the western wall. Staff in hand, he points at several of your riders, commanding lightning to strike and kill them. Then, he grasps his staff with both hands and thrusts it into the earth, causing the world to shake violently. A hill begins to grow around the staff, which is implanted in the ground. The hill grows to about fifty meters tall, and the goblin king removes his staff from the earth. He then begins to wave it around in a circle, and the clouds begin to spiral in the sky around the library. The spiraling clouds begin to form a tornado that starts to come down to touch ground on top of the library. Now might be your only chance. <br/><br/>You open your spellbook to the bookmark and begin to cast the spell. You are shaking under the weight of this pressure; you‚Äôve been thinking about this moment all day: the moment when the fate of the free world rests on your shoulders. A tear runs down your cheek. <br/><br/>This lemma, pow_pow, is the culmination of all of exponentiation. Act quickly before you run out of time, lose your chance, and lose your life.<br/>                                </p>
                        </div>
                        <button class="bottom-6 w-full mx-6 mx-auto block bg-teal text-white px-6 py-2 rounded cursor-pointer" onclick="hideTip()">Close</button>
                </div>
                <div class="bg-light-gray col-span-3 relative overflow-x-scroll" id="whiteboard">
                        <div class="flex w-[90%] absolute left-[50%] -translate-x-[50%] top-4 justify-center">
                                <div class="bg-soft-white text-xl rounded-xl px-6 py-2 border-6 border-dark-gray cursor-pointer " id="goal-card"><span id="goal-text">1+1=2</span></div>
                                <button class="bg-soft-white text-dark-gray px-4 rounded-xl ml-4 border-6 border-dark-gray cursor-pointer font-mono font-bold text-xl" id="induction-button">i</button>
                        </div>

                        <div class="absolute right-3 bottom-3 bg-dark-gray text-soft-white font-bold px-3 py-2 rounded-xl cursor-pointer" onclick="cycleContext()">Goal <span id="windowIndex">1</span> / <span id="windowCount">1</span></div>

                        <div class="bg-soft-white rounded-lg border-4 border-dark-gray absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 px-4 w-fit py-6 z-100 hidden" id="level-complete">
                                <h2 class="text-xl font-bold mb-4 text-center">Level Complete!</h2>

                                <div class="flex gap-4">
                                        <a class="bg-light-gray block w-full cursor-pointer text-center py-4 w-fit min-w-40" id="prev-link" href="level-6-retreat.html">Previous Level ( [ )</a>
                                        <a class="bg-light-gray block w-full cursor-pointer text-center py-4 w-fit min-w-40" id="next-link" href="level-8-add-squared.html">Next Level ( ] )</a>
                                </div>
                        </div>

                        <button class="absolute left-0 bottom-0 p-2 pr-4 max-w-[40%] max-h-[60%] z-10 cursor-pointer bg-dark-gray text-white text-sm rounded-tr-xl block"
                                id = "help-toggle"
                                onclick="toggleTip()">
                                Hide Help
                        </button>
                </div>
        </div>

        <script>
                const axioms = [{"name":"succ","raw":"(n : nat) : succ n : nat","category":0},{"name":"zero","raw":"0 : nat","category":0},{"name":"add","raw":"(n1 n2 : nat) : n1 + n2 : nat","category":1},{"name":"add_zero","raw":"(n1 : nat) : n1 + 0 = n1","category":1},{"name":"add_succ","raw":"(n1 n2 : nat) : (n1 + (succ(n2))) = (succ (n1 + n2))","category":1},{"name":"one","raw":"1 : nat","category":0},{"name":"one_eq_succ_zero","raw":"(1) = (succ 0)","category":0},{"name":"two","raw":"2 : nat","category":0},{"name":"two_eq_succ_zero","raw":"(2) = (succ 1)","category":0},{"name":"zero_add","raw":"(n1 : nat) : (0 + n1) = (n1)","category":1},{"name":"add_assoc","raw":"(n1 n2 n3 : nat) : (n1 + (n2 + n3)) = ((n1 + n2) + n3)","category":1},{"name":"succ_add","raw":"(n1 n2 : nat) : ((succ n1) + n2) = (succ (n1 + n2))","category":1},{"name":"add_comm","raw":"(n1 n2 : nat) : (n1 + n2) = (n2 + n1)","category":1},{"name":"add_one","raw":"(n1 : nat) : (succ n1) = (n1 + 1)","category":1},{"name":"mul","raw":"(n1 n2 : nat) : n1 * n2 : nat","category":2},{"name":"mul_zero","raw":"(n1 : nat) : (n1 * 0) = (0)","category":2},{"name":"mul_succ","raw":"(n1 n2 : nat) : (n1 * (succ(n2))) = ((n1 * n2) + n1)","category":2},{"name":"zero_mul","raw":"(n1 : nat) :( 0 * n1) = (0)","category":2},{"name":"mul_one","raw":"(n1 : nat) : (n1 * 1) = (n1)","category":2},{"name":"one_mul","raw":"(n1 : nat) : (1 * n1) = (n1)","category":2},{"name":"left_distrib","raw":"(n1 n2 n3 : nat) : (n1 * (n2 + n3)) = ((n1 * n2) + (n1 * n3))","category":2},{"name":"mul_assoc","raw":"(n1 n2 n3 : nat) : ((n1 * n2) * n3) = (n1 * (n2 * n3))","category":2},{"name":"succ_mul","raw":"(n1 n2 : nat) : ((succ n1) * n2) = ((n1 * n2) + n2)","category":2},{"name":"right_distrib","raw":"(n1 n2 n3 : nat) : ((n1 + n2) * n3) = ((n1 * n3) + (n2 * n3))","category":2},{"name":"mul_comm","raw":"(n1 n2 : nat) : (n1 * n2) = (n2 * n1)","category":2},{"name":"mul_comm_left","raw":"(n1 n2 n3 : nat) : (n1 * (n2 * n3)) = (n2 * (n1 * n3))","category":2},{"name":"pow","raw":"(n1 n2 : nat) : n1 ^ n2 : nat","category":3},{"name":"pow_zero","raw":"(n1 : nat) : (n1 ^ 0) = (1)","category":3},{"name":"pow_succ","raw":"(n1 n2 : nat) : (n1 ^ (succ(n2))) = ((n1 ^ n2) * n1)","category":3},{"name":"zero_pow_zero","raw":"(0 ^ 0) = (1)","category":3},{"name":"zero_pow_succ","raw":"(n1 : nat) : ((0) ^ (succ n1)) = (0)","category":3},{"name":"pow_one","raw":"(n1 : nat) : (n1 ^ 1) = (n1)","category":3},{"name":"one_pow","raw":"(n1 : nat) : (1 ^ n1) = (1)","category":3},{"name":"pow_add","raw":"(n1 n2 n3 : nat) :( n1 ^ (n2 + n3)) = ((n1 ^ n2) * (n1 ^ n3))","category":3},{"name":"mul_pow","raw":"(n1 n2 n3 : nat) : ((n1 * n2) ^ n3) = ((n1 ^ n3) * (n2 ^ n3))","category":3}]

                let goalRaw = "(a m n : nat) : ((a ^ m) ^ n) = (a ^ (m * n))"

                let AxiomCategory = {"numbers":0,"addition":1,"multiplication":2,"exponents":3}

                let currentLevelId = "4-7"
        </script>

        <script src="../../js/level.js"></script>
        <script src="../../js/Statement.js"></script>
        <script src="../../js/MObject.js"></script>
        <script src="../../js/mathdata.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
</body>
</html>