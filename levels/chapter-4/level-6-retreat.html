<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>LemmaCraft</title>
        <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

        <!-- CookieYes Consent Banner (before GA4) -->
        <!-- Start cookieyes banner --> <script id="cookieyes" type="text/javascript" src="https://cdn-cookieyes.com/client_data/5880e3f55d5b7196c9f07546/script.js"></script> <!-- End cookieyes banner -->

<!-- Google Consent Mode -->
<script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
</script>
<script>
        gtag('consent', 'default', {
                'analytics_storage': 'denied'
        });
</script>


        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-WM0NQY2HW0"></script>
        <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());

                gtag('config', 'G-WM0NQY2HW0');
        </script>

        <style type="text/tailwindcss">
                
                @theme {
                        --color-soft-white: #f5f5f5;
                        --color-teal: #26A69A;
                        --color-light-gray: #B0BEC5;
                        --color-bright-yellow: #FFCA28;
                        --color-dark-gray: #37474F;
                }

        </style>
</head>
<body class="h-screen select-none" onload="init()" >
        <div class="grid grid-cols-8 h-full content-stretch divide-x-2 divide-black">
                <div class="relative h-screen bg-soft-white overflow-y-none flex flex-col pt-6 col-span-2">
                        <h1 class="px-6 text-2xl font-bold mb-2"><img src="../../imgs/wizardHat.svg" class="w-8 inline mr-3 mb-2">LemmaCraft</h1>
                        <input type="text" class="block bg-light-gray rounded-xl border-2 border-dark-gray px-6 py-3 mx-6" 
                                placeholder="Search for lemmas:"
                                oninput="updateAxioms(this.value)"
                                id="search-bar">

                        <div id="axiom-list" class="px-6 h-full py-6 overflow-y-scroll"></div>
                        <div class="text-black sticky bottom-0 px-4 py-2 bg-soft-white border-t-2 border-t-dark-gray outline-t-4 outline-t-white">
                                <div class="flex justify-between gap-3"><strong class="block" id="level-name">Retreat</strong><div>Level 4-6</div></div>
                                <div class="flex jusity-stretch gap-3">
                                        <a class="bg-light-gray block w-full cursor-pointer text-center" href="level-5-the-final-stand.html">‚Üê</a>
                                        <a class="bg-light-gray block w-full cursor-pointer text-center" href="../../index.html">üè†Ô∏é</a>
                                        <a class="bg-light-gray block w-full cursor-pointer text-center" href="">‚ü≥</a>
                                        <a class="bg-light-gray block w-full cursor-pointer text-center" href="level-7-certain-doom.html">‚Üí</a>
                                </div>
                        </div>
                </div>
                <div class="bg-soft-white col-span-3 p-4 overflow-y-scroll flex flex-col justify-between"  
                        id="tip-card">
                        <div>
                        <div class="sticky top-0 flex justify-end">
                                <img src="/imgs/x.png" alt="" class="w-6 cursor-pointer" onclick="hideTip()">
                        </div>
                                
                                <h3 class="text-lg font-semibold text-center">Retreat</h3>
                                <p class="mb-4" id="tip-body">Suddenly, lightning strikes down from the sky and smites a large tree in the middle of the goblin army. The tree falls, and its large shadow of branched limbs crushes dozens of goblins. After falling, it begins to roll to the forest and another fifty goblins are flattened under its weight, until the tree comes to a rest at the tree line. <br/><br/>‚ÄúHoy! Not bad!‚Äù Magi Gramblet·Ωπn says. ‚ÄúWatch this, if you will.‚Äù With this, he brought his hands together into a ball, and pushed out as if throwing something at the approaching army. A fire breaks out among the ranks of the goblins, burning a few of them to a crisp, but the fire is quickly extinguished by the rain. Around the walls of the village, wizards and apprentices alike are bringing ruin down upon the goblin army. Meanwhile, the men are showering arrows down upon the enemies, slaying dozens. <br/><br/>But your upper hand is short-lived. A goblin horn blows, and all of the goblins retreat out of bowshot range. Large catapults are pushed out of the forest, each loaded with large spherical rocks. The horn is blown again, and all of the catapults are launched concurrently. The giant stones fly through the air like meteors raining down from the heavens. As they land, they explode like fireworks. The first stone lands in the middle of the village meeting space, destroying a statue but taking no lives. The next hits part of the western wall, killing two wizards and their apprentices, as well as five men, and that piece of the wall collapses into a pile of rubble. One by one, the stones land in fiery eruptions across the village, taking out the cafeteria, then the sleeping quarters, and then the lecture halls. Much of the northern wall is destroyed. Only the library, by chance or some spell of protection, remains unscathed by the hellish explosions.<br/><br/>The horn is blown a third time. The goblin army charges forward, this time without walls blocking their path. You look around at the remaining soldiers, wizards, and apprentices. So few of them remain! One of the wizards on the southern wall (you believe it's Magi Somerio) finally yells, ‚ÄúRetreat! Retreat to the library!‚Äù The library is on the eastern wall, just underneath you, and has a basement that connects to a cave system. The women and children were hiding in there, and it served as a place for injured soldiers to retreat to. You and Magi Gramblet·Ωπn climb down the wall and run to the library, where you join the rest of the soldiers.<br/><br/>After everyone gets in, you slam the door and cast a sealing spell on the door. You open your book and begin to prove the sealing-spell lemma, which is titled ‚Äúmul_pow.‚Äù</p>
                                <br />
                                <hr id="separator" />
                                <br />
                                <h3 id="lemmaName" class="text-lg font-semibold text-center font-mono">mul_pow</h3>
                                <p id="help" class="mb-4" id="tip-body"></p>
                        </div>
                        <button class="bottom-6 w-full mx-6 mx-auto block bg-teal text-white px-6 py-2 rounded cursor-pointer" onclick="hideTip()">Close</button>
                </div>
                <div class="bg-light-gray col-span-3 relative overflow-x-scroll" id="whiteboard">
                        <div class="flex w-[90%] absolute left-[50%] -translate-x-[50%] top-4 justify-center">
                                <div class="bg-soft-white text-xl rounded-xl px-6 py-2 border-6 border-dark-gray cursor-pointer " id="goal-card"><span id="goal-text">1+1=2</span></div>
                                <button class="bg-soft-white text-dark-gray px-4 rounded-xl ml-4 border-6 border-dark-gray cursor-pointer font-mono font-bold text-xl" id="induction-button">i</button>
                        </div>

                        <div class="absolute right-3 bottom-3 bg-dark-gray text-soft-white font-bold px-3 py-2 rounded-xl cursor-pointer" onclick="cycleContext()">Goal <span id="windowIndex">1</span> / <span id="windowCount">1</span></div>

                        <div class="bg-soft-white rounded-lg border-4 border-dark-gray absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 px-4 w-fit py-6 z-100 hidden" id="level-complete">
                                <h2 class="text-xl font-bold mb-4 text-center">Level Complete!</h2>

                                <div class="flex gap-4">
                                        <a class="bg-light-gray block w-full cursor-pointer text-center py-4 w-fit min-w-40" id="prev-link" href="level-5-the-final-stand.html">Previous Level ( [ )</a>
                                        <a class="bg-light-gray block w-full cursor-pointer text-center py-4 w-fit min-w-40" id="next-link" href="level-7-certain-doom.html">Next Level ( ] )</a>
                                </div>
                        </div>

                        <button class="absolute left-0 bottom-0 p-2 pr-4 max-w-[40%] max-h-[60%] z-10 cursor-pointer bg-dark-gray text-white text-sm rounded-tr-xl block"
                                id = "help-toggle"
                                onclick="toggleTip()">
                                Hide Help
                        </button>
                </div>
        </div>

        <script>
                const axioms = [{"name":"succ","raw":"(n : nat) : succ n : nat","category":0},{"name":"zero","raw":"0 : nat","category":0},{"name":"add","raw":"(n1 n2 : nat) : n1 + n2 : nat","category":1},{"name":"add_zero","raw":"(n1 : nat) : n1 + 0 = n1","category":1},{"name":"add_succ","raw":"(n1 n2 : nat) : (n1 + (succ(n2))) = (succ (n1 + n2))","category":1},{"name":"one","raw":"1 : nat","category":0},{"name":"one_eq_succ_zero","raw":"(1) = (succ 0)","category":0},{"name":"two","raw":"2 : nat","category":0},{"name":"two_eq_succ_zero","raw":"(2) = (succ 1)","category":0},{"name":"zero_add","raw":"(n1 : nat) : (0 + n1) = (n1)","category":1},{"name":"add_assoc","raw":"(n1 n2 n3 : nat) : (n1 + (n2 + n3)) = ((n1 + n2) + n3)","category":1},{"name":"succ_add","raw":"(n1 n2 : nat) : ((succ n1) + n2) = (succ (n1 + n2))","category":1},{"name":"add_comm","raw":"(n1 n2 : nat) : (n1 + n2) = (n2 + n1)","category":1},{"name":"add_one","raw":"(n1 : nat) : (n1 + 1) = (succ n1)","category":1},{"name":"mul","raw":"(n1 n2 : nat) : n1 * n2 : nat","category":2},{"name":"mul_zero","raw":"(n1 : nat) : (n1 * 0) = (0)","category":2},{"name":"mul_succ","raw":"(n1 n2 : nat) : (n1 * (succ(n2))) = ((n1 * n2) + n1)","category":2},{"name":"zero_mul","raw":"(n1 : nat) :( 0 * n1) = (0)","category":2},{"name":"mul_one","raw":"(n1 : nat) : (n1 * 1) = (n1)","category":2},{"name":"one_mul","raw":"(n1 : nat) : (1 * n1) = (n1)","category":2},{"name":"left_distrib","raw":"(n1 n2 n3 : nat) : (n1 * (n2 + n3)) = ((n1 * n2) + (n1 * n3))","category":2},{"name":"mul_assoc","raw":"(n1 n2 n3 : nat) : ((n1 * n2) * n3) = (n1 * (n2 * n3))","category":2},{"name":"succ_mul","raw":"(n1 n2 : nat) : ((succ n1) * n2) = ((n1 * n2) + n2)","category":2},{"name":"right_distrib","raw":"(n1 n2 n3 : nat) : ((n1 + n2) * n3) = ((n1 * n3) + (n2 * n3))","category":2},{"name":"mul_comm","raw":"(n1 n2 : nat) : (n1 * n2) = (n2 * n1)","category":2},{"name":"mul_comm_left","raw":"(n1 n2 n3 : nat) : (n1 * (n2 * n3)) = (n2 * (n1 * n3))","category":2},{"name":"pow","raw":"(n1 n2 : nat) : n1 ^ n2 : nat","category":3},{"name":"pow_zero","raw":"(n1 : nat) : (n1 ^ 0) = (1)","category":3},{"name":"pow_succ","raw":"(n1 n2 : nat) : (n1 ^ (succ(n2))) = ((n1 ^ n2) * n1)","category":3},{"name":"zero_pow_zero","raw":"(0 ^ 0) = (1)","category":3},{"name":"zero_pow_succ","raw":"(n1 : nat) : ((0) ^ (succ n1)) = (0)","category":3},{"name":"pow_one","raw":"(n1 : nat) : (n1 ^ 1) = (n1)","category":3},{"name":"one_pow","raw":"(n1 : nat) : (1 ^ n1) = (1)","category":3},{"name":"pow_add","raw":"(n1 n2 n3 : nat) :( n1 ^ (n2 + n3)) = ((n1 ^ n2) * (n1 ^ n3))","category":3}];

                let goalRaw = "(a b n : nat) : ((a * b) ^ n) = ((a ^ n) * (b ^ n))";

                let AxiomCategory = {"numbers":0,"addition":1,"multiplication":2,"exponents":3};

                let currentLevelId = "4-6";

                let helpStr = "";

                if (helpStr.length <= 2) {
                        document.getElementById('separator').style.display = 'none'
                        document.getElementById('help').style.display = 'none'
                        document.getElementById('lemmaName').style.display = 'none'
                }
        </script>

        <script src="../../js/level.js"></script>
        <script src="../../js/Statement.js"></script>
        <script src="../../js/MObject.js"></script>
        <script src="../../js/mathdata.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
</body>
</html>