<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="UTF-8">
        <link rel="icon" type="image/x-icon" href="../../imgs/wizard-hat-icon.svg">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>LemmaCraft</title>
        <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

        <!-- CookieYes Consent Banner (before GA4) -->
        <!-- Start cookieyes banner --> <script id="cookieyes" type="text/javascript" src="https://cdn-cookieyes.com/client_data/5880e3f55d5b7196c9f07546/script.js"></script> <!-- End cookieyes banner -->

<!-- Google Consent Mode -->
<script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
</script>
<script>
        gtag('consent', 'default', {
                'analytics_storage': 'denied'
        });
</script>


        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-WM0NQY2HW0"></script>
        <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());

                gtag('config', 'G-WM0NQY2HW0');
        </script>

        <style type="text/tailwindcss">
                
                @theme {
                        --color-soft-white: #f5f5f5;
                        --color-teal: #26A69A;
                        --color-light-gray: #B0BEC5;
                        --color-bright-yellow: #FFCA28;
                        --color-dark-gray: #37474F;
                }

        </style>
</head>
<body class="h-screen select-none" onload="init()" >
        <div class="grid grid-cols-8 h-full content-stretch divide-x-2 divide-black">
                <div class="relative h-screen bg-soft-white overflow-y-none flex flex-col pt-6 col-span-2">
                        <h1 class="px-6 text-2xl font-bold mb-2"><img src="../../imgs/wizardHat.svg" class="w-8 inline mr-3 mb-2">LemmaCraft</h1>
                        <input type="text" class="block bg-light-gray rounded-xl border-2 border-dark-gray px-6 py-3 mx-6" 
                                placeholder="Search for lemmas:"
                                oninput="updateAxioms(this.value)"
                                id="search-bar">

                        <div id="axiom-list" class="px-6 h-full py-6 overflow-y-scroll"></div>
                        <div class="text-black sticky bottom-0 px-4 py-2 bg-soft-white border-t-2 border-t-dark-gray outline-t-4 outline-t-white">
                                <div class="flex justify-between gap-3"><strong class="block" id="level-name">Basic Alchemy</strong><div>Level 1-1</div></div>
                                <div class="flex jusity-stretch gap-3">
                                        <a class="bg-light-gray block w-full cursor-pointer text-center" href="#">‚Üê</a>
                                        <a class="bg-light-gray block w-full cursor-pointer text-center" href="../../index.html">üè†Ô∏é</a>
                                        <a class="bg-light-gray block w-full cursor-pointer text-center" href="">‚ü≥</a>
                                        <a class="bg-light-gray block w-full cursor-pointer text-center" href="level-2-a-new-spell.html">‚Üí</a>
                                </div>
                        </div>
                </div>
                <div class="bg-soft-white col-span-3 p-4 overflow-y-scroll flex flex-col justify-between"  
                        id="tip-card">
                        <div>
                        <div class="sticky top-0 flex justify-end">
                                <img src="../../imgs/x.png" alt="" class="w-6 cursor-pointer" onclick="hideTip()">
                        </div>
                                
                                <h3 class="text-lg font-semibold text-center">Basic Alchemy</h3>
                                <p class="mb-4" id="tip-body">You wake up to find yourself in a soft bed in a lush, green village. Outside your window, you see the giant golden bell overlooking the walled-in school-town.<br/><br/>It‚Äôs been two weeks since you began alchemy school. The school is small, with only thirty students each apprenticed to a wizard, and one Principal known only as the Second Sage. The Second Sage is the keeper of the spell-book, the most powerful object in the world. Wars have been fought over this book since the beginning of time. <br/><br/>Most of the apprentices have been here for multiple years and are waiting on the Principal's leave to graduate. They‚Äôve learned beautiful, powerful spells. But not you. Your wizard, who hasn‚Äôt shown up on time once this year, is somewhat forgetful. His last student quit before three months had passed, and if he doesn‚Äôt soon teach you a spell that does anything useful, you might do the same.<br/><br/>As you arrive at the blood-red apple orchard  where you are scheduled to meet him, you try out the only spell you know: a reflection. A reflection is really, really simple. You can transform an object into another object ‚Äî but only if you can prove this transformation‚Äôs Lemma.<br/><br/>You pull down one of the apples in the tree above you and notice a dark brown spot. Fortunately, you know how to transform the apple with a reflection: the magic formula to remove a blemish is ‚Äúa + b + c = a + b + c‚Äù. To cast the spell, you must prove the lemma.</p>
                                <br />
                                <hr id="separator" />
                                <br />
                                <h3 id="lemmaName" class="text-lg font-semibold text-center font-mono">reflection</h3>
                                <p id="help" class="mb-4" id="tip-body">Welcome to LemmaCraft! Every level will be focused on proving one lemma. To do this, we will set the lemma to be our goal and manipulate the goal until we‚Äôve proven the lemma. ‚Äúa + b + c = a + b + c‚Äù is this level‚Äôs lemma and goal: if you can make both sides of the goal exactly the same, you prove the lemma; meaning that if you can show that ‚Äúa + b + c‚Äù is indeed the same thing as ‚Äúa + b + c‚Äù then you can confidently say that ‚Äúa + b + c = a + b + c‚Äù. This might seem obvious, but in the future both sides of the lemma will not be the same, and you‚Äôll have to manipulate the equation to show that the lemma is true.<br/><br/>This screen is where you prove the goal is exactly the same. On the left is your Lemma list. This is like your ‚Äútoolbox‚Äù with some helpful tools. On your right is your work bench. This is where you can manipulate these magic formulas. Notice that in the middle of the work bench are three draggable blocks. These are your hypotheses, and the three in this level will not be used (If you‚Äôre curious, ‚Äúa : nat‚Äù means ‚Äúa is a natural number,‚Äù but we won‚Äôt use these just yet).<br/><br/>At the top of the work bench is your goal, ‚Äúa + b + c = a + b + c‚Äù. Fortunately, both sides of the equation are exactly the same. You can cast a reflection by double-clicking the goal.<br/><br/>Go ahead! Double click.</p>
                        </div>
                        <button class="bottom-6 w-full mx-6 mx-auto block bg-teal text-white px-6 py-2 rounded cursor-pointer" onclick="hideTip()">Close</button>
                </div>
                <div class="bg-light-gray col-span-3 relative overflow-x-scroll" id="whiteboard">
                        <div class="flex w-[90%] absolute left-[50%] -translate-x-[50%] top-4 justify-center">
                                <div class="bg-soft-white text-xl rounded-xl px-6 py-2 border-6 border-dark-gray cursor-pointer " id="goal-card"><span id="goal-text">1+1=2</span></div>
                                <button class="bg-soft-white text-dark-gray px-4 rounded-xl ml-4 border-6 border-dark-gray cursor-pointer font-mono font-bold text-xl" id="induction-button">i</button>
                        </div>

                        <div class="absolute right-3 bottom-3 bg-dark-gray text-soft-white font-bold px-3 py-2 rounded-xl cursor-pointer" onclick="cycleContext()">Goal <span id="windowIndex">1</span> / <span id="windowCount">1</span></div>

                        <div class="bg-soft-white rounded-lg border-4 border-dark-gray absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 px-4 w-fit py-6 z-100 hidden" id="level-complete">
                                <h2 class="text-xl font-bold mb-4 text-center">Level Complete!</h2>

                                <div class="flex gap-4">
                                        <a class="bg-light-gray block w-full cursor-pointer text-center py-4 w-fit min-w-40" id="prev-link" href="#">Previous Level ( [ )</a>
                                        <a class="bg-light-gray block w-full cursor-pointer text-center py-4 w-fit min-w-40" id="next-link" href="level-2-a-new-spell.html">Next Level ( ] )</a>
                                </div>
                        </div>

                        <button class="absolute left-0 bottom-0 p-2 pr-4 max-w-[40%] max-h-[60%] z-10 cursor-pointer bg-dark-gray text-white text-sm rounded-tr-xl block"
                                id = "help-toggle"
                                onclick="toggleTip()">
                                Hide Help
                        </button>
                </div>
        </div>

        <script>
                const axioms = [];

                let goalRaw = "(a b c : nat) : ((a + b) + c) = ((a + b) + c)";

                let AxiomCategory = {"numbers":0,"addition":1,"multiplication":2,"exponents":3};

                let currentLevelId = "1-1";

                let helpStr = `Welcome to LemmaCraft! Every level will be focused on proving one lemma. To do this, we will set the lemma to be our goal and manipulate the goal until we‚Äôve proven the lemma. ‚Äúa + b + c = a + b + c‚Äù is this level‚Äôs lemma and goal: if you can make both sides of the goal exactly the same, you prove the lemma; meaning that if you can show that ‚Äúa + b + c‚Äù is indeed the same thing as ‚Äúa + b + c‚Äù then you can confidently say that ‚Äúa + b + c = a + b + c‚Äù. This might seem obvious, but in the future both sides of the lemma will not be the same, and you‚Äôll have to manipulate the equation to show that the lemma is true.<br/><br/>This screen is where you prove the goal is exactly the same. On the left is your Lemma list. This is like your ‚Äútoolbox‚Äù with some helpful tools. On your right is your work bench. This is where you can manipulate these magic formulas. Notice that in the middle of the work bench are three draggable blocks. These are your hypotheses, and the three in this level will not be used (If you‚Äôre curious, ‚Äúa : nat‚Äù means ‚Äúa is a natural number,‚Äù but we won‚Äôt use these just yet).<br/><br/>At the top of the work bench is your goal, ‚Äúa + b + c = a + b + c‚Äù. Fortunately, both sides of the equation are exactly the same. You can cast a reflection by double-clicking the goal.<br/><br/>Go ahead! Double click.`;

                if (helpStr.length <= 2) {
                        document.getElementById('separator').style.display = 'none'
                        document.getElementById('help').style.display = 'none'
                        document.getElementById('lemmaName').style.display = 'none'
                }
        </script>

        <script src="../../js/level.js"></script>
        <script src="../../js/Statement.js"></script>
        <script src="../../js/MObject.js"></script>
        <script src="../../js/mathdata.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
</body>
</html>