<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Welcome to LemmaCraft | Math Proof Game</title>
        <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
        <!-- CookieYes Consent Banner (before GA4) -->
        <!-- Start cookieyes banner --> <script id="cookieyes" type="text/javascript" src="https://cdn-cookieyes.com/client_data/5880e3f55d5b7196c9f07546/script.js"></script> <!-- End cookieyes banner -->

        <!-- Google Consent Mode -->
        <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
        </script>
        <script>
        gtag('consent', 'default', {
        'analytics_storage': 'denied'
        });
        </script>

       
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-WM0NQY2HW0"></script>
        <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());

                gtag('config', 'G-WM0NQY2HW0');
        </script>

        <style type="text/tailwindcss">
                
                @theme {
                        --color-soft-white: #f5f5f5;
                        --color-teal: #26A69A;
                        --color-light-gray: #B0BEC5;
                        --color-bright-yellow: #FFCA28;
                        --color-dark-gray: #37474F;
                }

        </style>
</head>
<body class="bg-soft-white">
        <h1 class="text-center text-7xl pt-16 font-bold font-mono">LemmaCraft</h1>
        <div class="grid grid-cols-4 gap-4 px-4 pt-16 pb-8 max-w-4xl mx-auto items-start" id="level-grid">
                <!-- Javascript injects HTML here -->
        </div>
        <p class="text-center mb-4">© 2025 Matthew McWilliams. Report bugs or get in contact
                <a href="./contact.html" class="text-blue-800 underline">here</a>. Or see more of my cool stuff 
                <a href="/" class="text-blue-800 underline">here</a>.</p>

        <script type="module">
                import { worlds } from "./worlds.js";

                const levelGridEl = document.getElementById('level-grid')

                let currentlyUp = true

                worlds.forEach((world, worldIndex) => {
                        
                        const levelComplete = world.levels.every((level, levelIndex) => localStorage.getItem(`${worldIndex+1}-${levelIndex+1}`) === 'complete')
                        
                        const worldEl = document.createElement('div')
                        
                        const linkBlockEl = document.createElement('a')
                        linkBlockEl.href = `${world.path}level-1-${world.levels[0].urlName}.html`
                        linkBlockEl.classList.add("block", levelComplete ? "bg-teal" : (currentlyUp ? "bg-teal" : "bg-light-gray"), "text-center", "py-12" ,"rounded-xl", "hover:-translate-y-2")
                        linkBlockEl.innerHTML = `
                        <strong>World ${worldIndex+1}</strong>
                        <p>${world.name}</p>
                        `
                        worldEl.append(linkBlockEl)
                        
                        const levelListEl = document.createElement('ol')
                        levelListEl.classList.add('list-decimal', 'ml-10', 'mt-4')
                        world.levels.forEach((level, levelIndex) => {
                                const levelComplete = localStorage.getItem(`${worldIndex+1}-${levelIndex+1}`) === 'complete'
                                
                                const liEl = document.createElement('li')
                                liEl.classList.add('mb-2', 'pl-3')

                                const aEl = document.createElement('a')
                                aEl.href = `${world.path}level-${levelIndex+1}-${world.levels[levelIndex].urlName}.html`
                                aEl.innerText = level.name + (levelComplete ? '  ✅' : '') 
                                aEl.classList.add('underline')

                                liEl.append(aEl)
                                levelListEl.append(liEl)
                        })
                        worldEl.append(levelListEl)                                
                                
                        levelGridEl.appendChild(worldEl)
                        currentlyUp &=levelComplete
                })
                
        </script>
</body>
</html>